@page
@model LOVA.API.Pages.Lottingelund.SurveyModel
@{
}

<style>
    body {
        background-color: #eee;
    }

    #regForm {
        background-color: #ffffff;
        margin: 0px auto;
        font-family: Raleway;
        padding: 40px;
        border-radius: 10px
    }

    #register {
        color: #6A1B9A
    }

    h1 {
        text-align: center
    }

    input {
        padding: 10px;
        width: 100%;
        font-size: 17px;
        font-family: Raleway;
        border: 1px solid #aaaaaa;
        border-radius: 10px;
        -webkit-appearance: none
    }

    .tab input:focus {
        border: 1px solid #6a1b9a !important;
        outline: none
    }

    input.invalid {
        border: 1px solid #e03a0666
    }

    .tab {
        display: none
    }

    button {
        background-color: #6A1B9A;
        color: #ffffff;
        border: none;
        border-radius: 50%;
        padding: 10px 20px;
        font-size: 17px;
        font-family: Raleway;
        cursor: pointer
    }

        button:hover {
            opacity: 0.8
        }

        button:focus {
            outline: none !important
        }

    #prevBtn {
        background-color: #bbbbbb
    }

    .all-steps {
        text-align: center;
        margin-top: 30px;
        margin-bottom: 30px;
        width: 100%;
        display: inline-flex;
        justify-content: center
    }

    .step {
        height: 40px;
        width: 40px;
        margin: 0 2px;
        background-color: #bbbbbb;
        border: none;
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 15px;
        color: #6a1b9a;
        opacity: 0.5
    }

        .step.active {
            opacity: 1
        }

        .step.finish {
            color: #fff;
            background: #6a1b9a;
            opacity: 1
        }

    .all-steps {
        text-align: center;
        margin-top: 30px;
        margin-bottom: 30px
    }

    .thanks-message {
        display: none
    }


    .form-check-input:checked {
        background-color: #6a1b9a;
        border-color: #6a1b9a;
    }

    .btn-outline-primary, .btn-outline-primary:hover, .btn-outline-primary:active, .btn-outline-primary:visited {
        border-color: #6a1b9a !important;
        color: #6a1b9a !important;
    }

        .btn-outline-primary:hover {
            background-color: #972ada !important;
            color: #e0c0f4 !important;
        }

</style>


<div class="container mt-5" style="height:80vh;">
    <div class="row d-flex justify-content-center align-items-center">
        <div class="col-md-8">
            <form id="regForm" method="post">
                <h1 id="register">Enkät - Löttingelund</h1>
                <div class="all-steps" id="all-steps">
                    <span class="step">1</span>
                    <span class="step">2</span>
                    <span class="step">3</span>
                    <span class="step">4</span>
                    @*<span class="step">5</span>*@
                    @*                    <span class="step">6</span>
                        <span class="step">7</span>
                        <span class="step">8</span>*@
                </div>
                <div class="tab">
                    <div class="row">
                        <h6>Det kortsiktiga behovet av investeringar i VA-anläggningen, inklusive återbetalning av lån och skapande av en buffert, beräknas till ca 2,6 MSEK. Det innebär ca 12 000 SEK per fastighet. Dessa pengar behöver komma in till föreningarna under 2022/2023. <br />På vilket sätt vill du helst att dessa kostnader finansieras?</h6>
                    </div>
                    <div class="row mt-5">
                        <p>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="SurveyViewModel.Query1" id="exampleRadios1" value="VA - engångsbelopp">
                                <label class="form-check-label ms-3" for="exampleRadios1">
                                    Att varje medlem sätter in ett engångsbelopp på 12 000 kronor under 2022 som beräknas täcka de kommande investeringarna i förbättrat och modernare Vatten/Avlopp.
                                </label>
                            </div>
                            <div class="form-check mt-2">
                                <input class="form-check-input" type="radio" name="SurveyViewModel.Query1" id="exampleRadios2" value="VA - kvartalsvis">
                                <label class="form-check-label ms-3" for="exampleRadios2">
                                    Att varje medlem sätter in ett extra belopp varje kvartal på ca 2 000 kronor per kvartal under en period på 1,5 år under 2022/2023.
                                </label>
                            </div>
                            <div class="form-check mt-2">
                                <input class="form-check-input" type="radio" name="SurveyViewModel.Query1" id="exampleRadios3" value="VA - ombilda till samfällighet">
                                <label class="form-check-label ms-3" for="exampleRadios3">
                                    Att om möjligt VA-föreningen ombildas till en samfällighet för att underlätta extern finansiering/upptagande av lån. Utöver eventuell lånefinansiering sätter varje medlem in resterande summa som ett engångsbelopp.
                                </label>
                            </div>
                        </p>
                    </div>
                </div>
                <div class="tab">
                    <div class="row">
                        <h6>Det omedelbara behovet av förbättringar av våra vägar beräknas klaras av med nuvarande budget, men inom ca 3 år behövs mer omfattande arbeten. En plan för detta kommer att presenteras på årsmötet 2022, men beräkningar är att vi behöver investera minst ca 13 000 kronor per fastighet.<br />a.	På vilket sätt vill du helst att dessa kostnader finansieras?</h6>
                    </div>
                    <div class="row mt-5">
                        <p>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="SurveyViewModel.Query2" id="exampleRadios1" value="Väg - engångsbelopp">
                                <label class="form-check-label ms-3" for="exampleRadios1">
                                    Att varje medlem sätter in ett engångsbelopp på 13 000 kronor under 2024 som beräknas täcka de kommande investeringarna i förbättrade och säkrare vägar.
                                </label>
                            </div>
                            <div class="form-check mt-2">
                                <input class="form-check-input" type="radio" name="SurveyViewModel.Query2" id="exampleRadios2" value="Väg - kvartalsvis">
                                <label class="form-check-label ms-3" for="exampleRadios2">
                                    Att varje medlem sätter in ett extra belopp varje kvartal på ca 2 000 kronor per kvartal under en period på 1,5 år under 2024/2025.
                                </label>
                            </div>
                            <div class="form-check mt-2">
                                <input class="form-check-input" type="radio" name="SurveyViewModel.Query2" id="exampleRadios3" value="Väg - exernt lån">
                                <label class="form-check-label ms-3" for="exampleRadios3">
                                    Att Vägföreningen, som sannolikt räknas som samfällighet tar upp ett externt lån. Utöver eventuell lånefinansiering sätter varje medlem in resterande summa som ett engångsbelopp.
                                </label>
                            </div>
                        </p>
                    </div>
                </div>
                <div class="tab">
                    <div class="row">
                        <h6>Finns det något annat du vill tillägga avseende skötsel, finansiering, investeringar, kommunikation eller annat som styrelsen för föreningarna bör ta i beaktande?</h6>
                    </div>
                    <div class="row mt-5">
                    </div>
                    <p><textarea class="form-control" placeholder="" oninput="this.className = ''" name="SurveyViewModel.Query3" cols="30" rows="3"></textarea></p>
                </div>
                @*                <div class="tab">
                    <h6>What's your Favourite car?</h6>
                    <p><input placeholder="Favourite car" oninput="this.className = ''" name="SurveyViewModel.Query4"></p>
                    </div>
                    <div class="tab">
                    <h6>What's your Favourite Song?</h6>
                    <p><input placeholder="Favourite Song" oninput="this.className = ''" name="SurveyViewModel.Query5"></p>
                    </div>
                    <div class="tab">
                    <h6>What's your Favourite Mobile brand?</h6>
                    <p><input placeholder="Favourite Mobile Brand" oninput="this.className = ''" name="uname"></p>
                    </div>*@
                <div class="tab">
                    <div class="row">
                        <h6>
                            Kolla igenom svaren innan du sparar.
                        </h6>
                    </div>
                    <div class="row mt-5 col-sm-2">
                        <button type="submit" class="btn btn-outline-primary">Spara</button>
                    </div>

                </div>

                <div style="overflow:auto;" id="nextprevious" class="mt-3">
                    <div style="float:right;">
                        <button type="button" id="prevBtn" onclick="nextPrev(-1)">
                            <i class="fa fa-angle-double-left"></i>
                        </button>
                        <button type="button" id="nextBtn" onclick="nextPrev(1)">
                            <i class="fa fa-angle-double-right"></i>
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>


@section Scripts {

<script>
     var currentTab = 0;
     document.addEventListener("DOMContentLoaded", function(event) {

     showTab(currentTab);

     });

     function showTab(n) {

         var x = document.getElementsByClassName("tab");

         // console.log(x.length);
         x[n].style.display = "block";
         if (n == 0) {
             document.getElementById("prevBtn").style.display = "none";
             } else {
             document.getElementById("prevBtn").style.display = "inline";
         }
         if (n == (x.length)) {
             document.getElementById("nextBtn").innerHTML = '<i class="fa fa-angle-double-right"></i>';
             } else {
             document.getElementById("nextBtn").innerHTML = '<i class="fa fa-angle-double-right"></i>';
         }
         fixStepIndicator(n)
     }

     function nextPrev(n)
     {
         console.log(n);
         var x = document.getElementsByClassName("tab");
         //if (n == 1 && !validateForm()) return false;
         x[currentTab].style.display = "none";
         currentTab = currentTab + n;
         console.log(currentTab);
         if (currentTab == x.length -1) {
                 document.getElementById("nextBtn").style.display = "none";
             }else{
                 document.getElementById("nextBtn").style.display = "inline";
         }


         if (currentTab >= x.length) {

         document.getElementById("nextprevious").style.display = "none";
         document.getElementById("all-steps").style.display = "none";
         document.getElementById("register").style.display = "none";
         document.getElementById("text-message").style.display = "block";

         }


         showTab(currentTab);
     }

     function fixIndicatorWhenBack(n)
     {
         var i;
         var x=document.getElementsByClassName("step");

     }



     function validateForm() {
         var x, y, i, valid = true;
         x = document.getElementsByClassName("tab");
         y = x[currentTab].getElementsByTagName("input");
         for (i = 0; i < y.length; i++)
             {
             if (y[i].value=="" )
             {
                 y[i].className +=" invalid" ;
                 valid=false;
             }
         }
         if (valid)
         {
         document.getElementsByClassName("step")[currentTab].className +=" finish" ;
         }
         return valid;
     }

    function fixStepIndicator(n)
     {
         console.log("FixStepIndicator");
         console.log(n);
     var i, x=document.getElementsByClassName("step");
     for (i=0; i < x.length; i++)
     {
      x[i].className=x[i].className.replace(" active", "" );
      if (i >= n)
      {
          x[i].className=x[i].className.replace(" finish", "" );
      }
     }
     x[n].className +=" active" ;

    }
</script>
 }